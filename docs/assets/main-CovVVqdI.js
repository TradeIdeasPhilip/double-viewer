(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))h(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&h(m)}).observe(document,{childList:!0,subtree:!0});function u(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function h(l){if(l.ep)return;l.ep=!0;const o=u(l);fetch(l.href,o)}})();var b={},y;function H(){return y||(y=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.countMap=i.Random=i.phi=i.radiansPerDegree=i.degreesPerRadian=i.FULL_CIRCLE=i.FIGURE_SPACE=i.NON_BREAKING_SPACE=i.MIN_DATE=i.MAX_DATE=i.csvStringToArray=void 0,i.assertClass=c,i.sleep=u,i.testXml=h,i.parseXml=l,i.followPath=o,i.getAttribute=m,i.parseFloatX=E,i.parseIntX=a,i.parseTimeT=s,i.pickAny=g,i.pick=L,i.take=T,i.filterMap=_,i.makePromise=C,i.dateIsValid=R,i.angleBetween=F,i.positiveModulo=A,i.rotateArray=P,i.rectUnion=S,i.rectAddPoint=B,i.dateToFileName=D,i.lerp=O,i.assertFinite=U,i.shuffleArray=G,i.zip=X,i.count=$,i.initializedArray=M,i.sum=K,i.makeLinear=z,i.makeBoundedLinear=j,i.polarToRectangular=V,i.permutations=I;function c(e,t,n="Assertion Failed."){const r=d=>{throw new Error(`${n}  Expected type:  ${t.name}.  Found type:  ${d}.`)};if(e===null)r("null");else if(typeof e!="object")r(typeof e);else if(!(e instanceof t))r(e.constructor.name);else return e;throw new Error("wtf")}function u(e){return new Promise(t=>{setTimeout(t,e)})}function h(e){const n=new DOMParser().parseFromString(e,"application/xml");for(const r of Array.from(n.querySelectorAll("parsererror")))if(r instanceof HTMLElement)return{error:r};return{parsed:n}}function l(e){if(e!==void 0)return h(e)?.parsed?.documentElement}function o(e,...t){for(const n of t){if(e===void 0)return;if(typeof n=="number")e=e.children[n];else{const r=e.getElementsByTagName(n);if(r.length!=1)return;e=r[0]}}return e}function m(e,t,...n){if(t=o(t,...n),t!==void 0&&t.hasAttribute(e))return t.getAttribute(e)??void 0}function E(e){if(e==null)return;const t=+e;if(isFinite(t))return t}function a(e){const t=E(e);if(t!==void 0)return t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||t!=Math.floor(t)?void 0:t}function s(e){if(typeof e=="string"&&(e=a(e)),e!=null&&!(e<=0))return new Date(e*1e3)}const w=e=>{const t=/(,|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^,\r\n]*))/gi,n=[[]];let r;for(;r=t.exec(e);)r[1].length&&r[1]!==","&&n.push([]),n[n.length-1].push(r[2]!==void 0?r[2].replace(/""/g,'"'):r[3]);return n};i.csvStringToArray=w;function g(e){const t=e.values().next();if(!t.done)return t.value}function L(e){if(e.length==0)throw new Error("wtf");return e[Math.random()*e.length|0]}function T(e){if(e.length<1)throw new Error("wtf");const t=Math.random()*e.length|0;return e.splice(t,1)[0]}function _(e,t){const n=[];return e.forEach((r,d)=>{const f=t(r,d);f!==void 0&&n.push(f)}),n}function C(){let e,t;return{promise:new Promise((r,d)=>{e=r,t=d}),resolve:e,reject:t}}i.MAX_DATE=new Date(864e13),i.MIN_DATE=new Date(-864e13);function R(e){return isFinite(e.getTime())}i.NON_BREAKING_SPACE=" ",i.FIGURE_SPACE=" ",i.FULL_CIRCLE=2*Math.PI,i.degreesPerRadian=360/i.FULL_CIRCLE,i.radiansPerDegree=i.FULL_CIRCLE/360,i.phi=(1+Math.sqrt(5))/2;function F(e,t){const n=A(e,i.FULL_CIRCLE);let d=A(t,i.FULL_CIRCLE)-n;const f=i.FULL_CIRCLE/2;if(d>f?d-=i.FULL_CIRCLE:d<-f&&(d+=i.FULL_CIRCLE),Math.abs(d)>f)throw new Error("wtf");return d}function A(e,t){const n=e%t;return n<0?n+Math.abs(t):n}function P(e,t){if((t|0)!=t)throw new Error(`invalid input: ${t}`);return t=A(t,e.length),t==0?e:[...e.slice(t),...e.slice(0,t)]}class k{static sfc32(t,n,r,d){return function(){t|=0,n|=0,r|=0,d|=0;let f=(t+n|0)+d|0;return d=d+1|0,t=n^n>>>9,n=r+(r<<3)|0,r=r<<21|r>>>11,r=r+f|0,(f>>>0)/4294967296}}static#n=42;static create(t=this.newSeed()){console.info(t);const n=JSON.parse(t);if(!(n instanceof Array))throw new Error("invalid seed");if(n.length!=4)throw new Error("invalid seed");const[r,d,f,N]=n;if(!(typeof r=="number"&&typeof d=="number"&&typeof f=="number"&&typeof N=="number"))throw new Error("invalid seed");return this.sfc32(r,d,f,N)}static newSeed(){const t=[];return t.push(Date.now()),t.push(this.#n++),t.push(Math.random()*2**31|0),t.push(Math.random()*2**31|0),JSON.stringify(t)}}i.Random=k;function S(e,t){const n=Math.min(e.x,t.x),r=Math.min(e.y,t.y),d=Math.max(e.x+e.width,t.x+t.width),f=Math.max(e.y+e.height,t.y+t.height),N=d-n,q=f-r;return{x:n,y:r,width:N,height:q}}function B(e,t,n){return S(e,{x:t,y:n,width:0,height:0})}function D(e){return isNaN(e.getTime())?"0000⸱00⸱00 00⦂00⦂00":`${e.getFullYear().toString().padStart(4,"0")}⸱${(e.getMonth()+1).toString().padStart(2,"0")}⸱${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}⦂${e.getMinutes().toString().padStart(2,"0")}⦂${e.getSeconds().toString().padStart(2,"0")}`}function O(e,t,n){return e+(t-e)*n}function U(...e){e.forEach(t=>{if(!isFinite(t))throw new Error("wtf")})}function G(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function*X(...e){const t=e.map(n=>n[Symbol.iterator]());for(;;){const n=t.map(r=>r.next());if(n.some(({done:r})=>r))break;yield n.map(({value:r})=>r)}}function*$(e=0,t=1/0,n=1){for(let r=e;r<t;r+=n)yield r}function M(e,t){const n=[];for(let r=0;r<e;r++)n.push(t(r));return n}i.countMap=M;function K(e){return e.reduce((t,n)=>t+n,0)}function z(e,t,n,r){const d=(r-t)/(n-e);return function(f){return(f-e)*d+t}}function j(e,t,n,r){n<e&&([e,t,n,r]=[n,r,e,t]);const d=(r-t)/(n-e);return function(f){return f<=e?t:f>=n?r:(f-e)*d+t}}function V(e,t){return{x:Math.cos(t)*e,y:Math.sin(t)*e}}function*I(e,t=[]){if(e.length==0)yield t;else for(let n=0;n<e.length;n++){const r=e[n],d=[...t,r],f=[...e.slice(0,n),...e.slice(n+1)];yield*I(f,d)}}}(b)),b}var p=H();class v{static#n=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));static toBinary(c){const h="",o=v.#n;return o.setFloat64(0,c,!1),p.initializedArray(Float64Array.BYTES_PER_ELEMENT,E=>o.getUint8(E).toString(2).padStart(8,"0")).join(h)}static fromBinary(c){if(c.length!=64)return;for(const o of c)if(o!="0"&&o!="1")return;const u=v.#n;for(let o=0;o<8;o++){const m=c.substring(o*8,(o+1)*8),E=parseInt(m,2);u.setUint8(o,E)}return u.getFloat64(0,!1)}#i;#r;#e=document.createElement("div");#a(c){const u=document.createElement("span");return u.addEventListener("pointerdown",()=>{const h=[...this.bits],o=h[c]=="0"?"1":"0";h[c]=o,this.bits=h.join("")}),u.dataset.digit=c.toString(),u}#l=p.initializedArray(64,c=>this.#a(c));#s=document.createElement("span");#d=document.createElement("span");#u=document.createElement("span");#t=document.createElement("div");#E=p.initializedArray(52,c=>this.#a(c+12));#o=document.createElement("span");#f=[this.#o,...this.#E];#p=this.#a(0);#c=document.createElement("span");#h=document.createElement("input");constructor(c=0){this.#i=c,this.#r=v.toBinary(c),this.#c.classList.add("exponent","fixed-width"),this.#c.innerText=".",this.#t.style.wordBreak="break-all",this.#o.classList.add("fixed-width","exponent");const u=document.createElement("div");u.style.wordBreak="break-all",u.append(...this.#l);const h=document.createElement("div");h.append("Value:"+p.NON_BREAKING_SPACE+p.NON_BREAKING_SPACE,this.#s),this.#s.classList.add("bits-as-string");const l=document.createElement("div");l.classList.add("exponent"),l.append("Raw Exponent:"+p.NON_BREAKING_SPACE+p.NON_BREAKING_SPACE,this.#d);const o=document.createElement("div");o.classList.add("mantissa"),o.append("Raw Mantissa:"+p.NON_BREAKING_SPACE+p.NON_BREAKING_SPACE,this.#u);const m=document.createElement("div");{const a=()=>p.parseFloatX(this.#h.value)??NaN;let s=document.createElement("button");s.innerText="=",s.addEventListener("click",()=>{this.value=a()}),m.append(s," "),s=document.createElement("button"),s.innerText="+=",s.addEventListener("click",()=>{this.value+=a()}),m.append(s," "),s=document.createElement("button"),s.innerText="-=",s.addEventListener("click",()=>{this.value-=a()}),m.append(s," "),s=document.createElement("button"),s.innerText="*=",s.addEventListener("click",()=>{this.value*=a()}),m.append(s," "),s=document.createElement("button"),s.innerText="/=",s.addEventListener("click",()=>{this.value/=a()}),m.append(s," "),s=document.createElement("button"),s.innerText="%=",s.addEventListener("click",()=>{this.value%=a()}),m.append(s," "),s=document.createElement("button"),s.innerText="^=",s.addEventListener("click",()=>{this.value^=a()}),m.append(s," "),s=document.createElement("button"),s.innerText="&=",s.addEventListener("click",()=>{this.value&=a()}),m.append(s," "),s=document.createElement("button"),s.innerText="|=",s.addEventListener("click",()=>{this.value|=a()}),m.append(s," ")}m.appendChild(this.#h);const E=document.createElement("div");{let a=document.createElement("button");a.innerText="NaN",a.addEventListener("click",()=>this.value=NaN),E.append("= ",a),a=document.createElement("button"),a.innerText="-Infinity",a.addEventListener("click",()=>this.value=-1/0),E.append(" ",a),a=document.createElement("button"),a.innerText="Min Safe Integer",a.addEventListener("click",()=>this.value=Number.MIN_SAFE_INTEGER),E.append(" ",a),a=document.createElement("button"),a.innerText="Min Value",a.addEventListener("click",()=>this.value=Number.MIN_VALUE),E.append(" ",a),a=document.createElement("button"),a.innerText="Epsilon",a.addEventListener("click",()=>this.value=Number.EPSILON),E.append(" ",a),a=document.createElement("button"),a.innerText="Max Safe Integer",a.addEventListener("click",()=>this.value=Number.MAX_SAFE_INTEGER),E.append(" ",a),a=document.createElement("button"),a.innerText="Max Value",a.addEventListener("click",()=>this.value=Number.MAX_VALUE),E.append(" ",a),a=document.createElement("button"),a.innerText="Infinity",a.addEventListener("click",()=>this.value=1/0),E.append(" ",a)}this.#e.appendChild(u),this.#e.appendChild(h),this.#e.appendChild(l),this.#e.appendChild(o),this.#e.appendChild(this.#t),this.#e.appendChild(m),this.#e.appendChild(E),this.#e.classList.add("top"),this.#m()}#m(){for(const[h,l]of p.zip(this.bits,this.#l))l.innerText=h;this.#s.innerText=this.value.toString();const c=this.bits.substring(1,12);if(c.length!=11)throw new Error("wtf");const u=parseInt(c,2);this.#d.innerText=u.toLocaleString();{const h=this.bits.substring(12);if(h.length!=52)throw new Error("wtf");const l=parseInt(h,2);this.#u.innerText=l.toLocaleString(),this.#t.innerText="";const o=1023;if(u>=o&&u<=1075){this.#t.appendChild(this.#p).innerText=this.bits[0]=="0"?"+":"-",this.#o.innerText="1";const E="1"+h,a=u-o;let s=NaN;this.#f.forEach((w,g)=>{const L=E[g];this.#t.appendChild(w).innerText=L,L=="1"&&(s=g),g==a&&(this.#t.appendChild(this.#c),s=g)}),p.assertFinite(s),this.#f.forEach((w,g)=>{const T=g>s?"100":"";w.style.fontWeight=T}),console.log("trailingZerosStartAfter",s)}}}get value(){return this.#i}set value(c){this.#i=c,this.#r=v.toBinary(c),this.#m()}get bits(){return this.#r}set bits(c){const u=v.fromBinary(c);if(u===void 0)throw new Error("invalid");this.value=u,c!=this.bits&&console.info(c,this.bits)}get top(){return this.#e}}window.DoubleViewer=v;const Z=new v(7);document.body.appendChild(Z.top);

(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))f(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const g of l.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&f(g)}).observe(document,{childList:!0,subtree:!0});function d(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function f(c){if(c.ep)return;c.ep=!0;const l=d(c);fetch(c.href,l)}})();var C={},_;function R(){return _||(_=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.countMap=n.Random=n.phi=n.radiansPerDegree=n.degreesPerRadian=n.FULL_CIRCLE=n.FIGURE_SPACE=n.NON_BREAKING_SPACE=n.MIN_DATE=n.MAX_DATE=n.csvStringToArray=void 0,n.assertClass=a,n.sleep=d,n.testXml=f,n.parseXml=c,n.followPath=l,n.getAttribute=g,n.parseFloatX=m,n.parseIntX=p,n.parseTimeT=s,n.pickAny=h,n.pick=v,n.take=b,n.filterMap=M,n.makePromise=S,n.dateIsValid=P,n.angleBetween=O,n.positiveModulo=A,n.rotateArray=U,n.rectUnion=I,n.rectAddPoint=H,n.dateToFileName=G,n.lerp=X,n.assertFinite=j,n.shuffleArray=$,n.zip=q,n.count=z,n.initializedArray=y,n.sum=K,n.makeLinear=x,n.makeBoundedLinear=W,n.polarToRectangular=Z,n.permutations=B;function a(e,t,i="Assertion Failed."){const o=u=>{throw new Error(`${i}  Expected type:  ${t.name}.  Found type:  ${u}.`)};if(e===null)o("null");else if(typeof e!="object")o(typeof e);else if(!(e instanceof t))o(e.constructor.name);else return e;throw new Error("wtf")}function d(e){return new Promise(t=>{setTimeout(t,e)})}function f(e){const i=new DOMParser().parseFromString(e,"application/xml");for(const o of Array.from(i.querySelectorAll("parsererror")))if(o instanceof HTMLElement)return{error:o};return{parsed:i}}function c(e){if(e!==void 0)return f(e)?.parsed?.documentElement}function l(e,...t){for(const i of t){if(e===void 0)return;if(typeof i=="number")e=e.children[i];else{const o=e.getElementsByTagName(i);if(o.length!=1)return;e=o[0]}}return e}function g(e,t,...i){if(t=l(t,...i),t!==void 0&&t.hasAttribute(e))return t.getAttribute(e)??void 0}function m(e){if(e==null)return;const t=+e;if(isFinite(t))return t}function p(e){const t=m(e);if(t!==void 0)return t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||t!=Math.floor(t)?void 0:t}function s(e){if(typeof e=="string"&&(e=p(e)),e!=null&&!(e<=0))return new Date(e*1e3)}const r=e=>{const t=/(,|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^,\r\n]*))/gi,i=[[]];let o;for(;o=t.exec(e);)o[1].length&&o[1]!==","&&i.push([]),i[i.length-1].push(o[2]!==void 0?o[2].replace(/""/g,'"'):o[3]);return i};n.csvStringToArray=r;function h(e){const t=e.values().next();if(!t.done)return t.value}function v(e){if(e.length==0)throw new Error("wtf");return e[Math.random()*e.length|0]}function b(e){if(e.length<1)throw new Error("wtf");const t=Math.random()*e.length|0;return e.splice(t,1)[0]}function M(e,t){const i=[];return e.forEach((o,u)=>{const E=t(o,u);E!==void 0&&i.push(E)}),i}function S(){let e,t;return{promise:new Promise((o,u)=>{e=o,t=u}),resolve:e,reject:t}}n.MAX_DATE=new Date(864e13),n.MIN_DATE=new Date(-864e13);function P(e){return isFinite(e.getTime())}n.NON_BREAKING_SPACE=" ",n.FIGURE_SPACE=" ",n.FULL_CIRCLE=2*Math.PI,n.degreesPerRadian=360/n.FULL_CIRCLE,n.radiansPerDegree=n.FULL_CIRCLE/360,n.phi=(1+Math.sqrt(5))/2;function O(e,t){const i=A(e,n.FULL_CIRCLE);let u=A(t,n.FULL_CIRCLE)-i;const E=n.FULL_CIRCLE/2;if(u>E?u-=n.FULL_CIRCLE:u<-E&&(u+=n.FULL_CIRCLE),Math.abs(u)>E)throw new Error("wtf");return u}function A(e,t){const i=e%t;return i<0?i+Math.abs(t):i}function U(e,t){if((t|0)!=t)throw new Error(`invalid input: ${t}`);return t=A(t,e.length),t==0?e:[...e.slice(t),...e.slice(0,t)]}class D{static sfc32(t,i,o,u){return function(){t|=0,i|=0,o|=0,u|=0;let E=(t+i|0)+u|0;return u=u+1|0,t=i^i>>>9,i=o+(o<<3)|0,o=o<<21|o>>>11,o=o+E|0,(E>>>0)/4294967296}}static#t=42;static create(t=this.newSeed()){console.info(t);const i=JSON.parse(t);if(!(i instanceof Array))throw new Error("invalid seed");if(i.length!=4)throw new Error("invalid seed");const[o,u,E,T]=i;if(!(typeof o=="number"&&typeof u=="number"&&typeof E=="number"&&typeof T=="number"))throw new Error("invalid seed");return this.sfc32(o,u,E,T)}static newSeed(){const t=[];return t.push(Date.now()),t.push(this.#t++),t.push(Math.random()*2**31|0),t.push(Math.random()*2**31|0),JSON.stringify(t)}}n.Random=D;function I(e,t){const i=Math.min(e.x,t.x),o=Math.min(e.y,t.y),u=Math.max(e.x+e.width,t.x+t.width),E=Math.max(e.y+e.height,t.y+t.height),T=u-i,Y=E-o;return{x:i,y:o,width:T,height:Y}}function H(e,t,i){return I(e,{x:t,y:i,width:0,height:0})}function G(e){return isNaN(e.getTime())?"0000⸱00⸱00 00⦂00⦂00":`${e.getFullYear().toString().padStart(4,"0")}⸱${(e.getMonth()+1).toString().padStart(2,"0")}⸱${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}⦂${e.getMinutes().toString().padStart(2,"0")}⦂${e.getSeconds().toString().padStart(2,"0")}`}function X(e,t,i){return e+(t-e)*i}function j(...e){e.forEach(t=>{if(!isFinite(t))throw new Error("wtf")})}function $(e){for(let t=e.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1));[e[t],e[i]]=[e[i],e[t]]}return e}function*q(...e){const t=e.map(i=>i[Symbol.iterator]());for(;;){const i=t.map(o=>o.next());if(i.some(({done:o})=>o))break;yield i.map(({value:o})=>o)}}function*z(e=0,t=1/0,i=1){for(let o=e;o<t;o+=i)yield o}function y(e,t){const i=[];for(let o=0;o<e;o++)i.push(t(o));return i}n.countMap=y;function K(e){return e.reduce((t,i)=>t+i,0)}function x(e,t,i,o){const u=(o-t)/(i-e);return function(E){return(E-e)*u+t}}function W(e,t,i,o){i<e&&([e,t,i,o]=[i,o,e,t]);const u=(o-t)/(i-e);return function(E){return E<=e?t:E>=i?o:(E-e)*u+t}}function Z(e,t){return{x:Math.cos(t)*e,y:Math.sin(t)*e}}function*B(e,t=[]){if(e.length==0)yield t;else for(let i=0;i<e.length;i++){const o=e[i],u=[...t,o],E=[...e.slice(0,i),...e.slice(i+1)];yield*B(E,u)}}}(C)),C}var w=R(),L={},k;function J(){if(k)return L;k=1,Object.defineProperty(L,"__esModule",{value:!0}),L.AnimationLoop=void 0,L.getById=a,L.loadDateTimeLocal=d,L.getBlobFromCanvas=f,L.getAudioBalanceControl=c,L.getHashInfo=l,L.createElementFromHTML=g,L.download=m;const n=R();function a(s,r){const h=document.getElementById(s);if(!h)throw new Error("Could not find element with id "+s+".  Expected type:  "+r.name);if(h instanceof r)return h;throw new Error("Element with id "+s+" has type "+h.constructor.name+".  Expected type:  "+r.name)}function d(s,r,h="milliseconds"){let v;switch(h){case"minutes":{v=r.getSeconds()*1e3+r.getMilliseconds();break}case"seconds":{v=r.getMilliseconds();break}case"milliseconds":{v=0;break}default:throw new Error("wtf")}s.valueAsNumber=+r-r.getTimezoneOffset()*6e4-v}function f(s){const{reject:r,resolve:h,promise:v}=(0,n.makePromise)();return s.toBlob(b=>{b?h(b):r(new Error("blob is null!"))}),v}function c(s){const r=new AudioContext,h=r.createMediaElementSource(s),v=new StereoPannerNode(r,{pan:0});return h.connect(v).connect(r.destination),b=>{v.pan.value=b}}function l(){const s=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(v=>{const b=v.split("=",2);if(b.length==2){const M=decodeURIComponent(b[0]),S=decodeURIComponent(b[1]);s.set(M,S)}}),s}function g(s,r){var h=document.createElement("div");return h.innerHTML=s.trim(),(0,n.assertClass)(h.firstChild,r,"createElementFromHTML:")}function m(s,r){var h=document.createElement("a");if(h.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(r)),h.setAttribute("download",s),document.createEvent){var v=document.createEvent("MouseEvents");v.initEvent("click",!0,!0),h.dispatchEvent(v)}else h.click()}class p{onWake;constructor(r){this.onWake=r,this.callback=this.callback.bind(this),requestAnimationFrame(this.callback)}#t=!1;cancel(){this.#t=!0}callback(r){this.#t||(requestAnimationFrame(this.callback),this.onWake(r))}}return L.AnimationLoop=p,L}var Q=J();function V(n,a){const d=n.childNodes.length;n.insertAdjacentHTML("beforeend",a);const f=n.childNodes,c=new Array,l=n.childNodes.length;for(let g=d;g<l;g++)c.push(f[g]);return c}function F(n,a,d,f){const c=V(n,a);if(c.length!=2)throw new Error("wtf");return[w.assertClass(c[0],d),w.assertClass(c[1],f)]}class N{static#t=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));static toBinary(a){const f="",l=N.#t;return l.setFloat64(0,a,!1),w.initializedArray(Float64Array.BYTES_PER_ELEMENT,m=>l.getUint8(m).toString(2).padStart(8,"0")).join(f)}static fromBinary(a){if(a.length!=64)return;for(const l of a)if(l!="0"&&l!="1")return;const d=N.#t;for(let l=0;l<8;l++){const g=a.substring(l*8,(l+1)*8),m=parseInt(g,2);d.setUint8(l,m)}return d.getFloat64(0,!1)}#i;#r;#e=document.createElement("div");#s(a){const d=document.createElement("span");return d.addEventListener("pointerdown",()=>{const f=[...this.bits],l=f[a]=="0"?"1":"0";f[a]=l,this.bits=f.join("")}),d.dataset.digit=a.toString(),d.tabIndex=0,d}#l=w.initializedArray(64,a=>this.#s(a));#o=document.createElement("span");#d=document.createElement("span");#n=document.createElement("div");#m=w.initializedArray(52,a=>this.#s(a+12));#a=document.createElement("span");#u=[this.#a,...this.#m];#E=this.#s(0);#c=document.createElement("span");#f=document.createElement("input");get exponentBits(){return this.bits.substring(1,12)}set exponentBits(a){if(!/^[01]{11}$/.test(a))throw new Error("wtf");const d=[...this.bits].toSpliced(1,a.length,...a).join("");if(this.bits=d,this.exponentBits!=a)throw new Error("wtf")}static EXPONENT_COUNT=2048;get exponent(){const a=parseInt(this.exponentBits,2);if(!(Number.isSafeInteger(a)&&a>=0&&a<N.EXPONENT_COUNT))throw new Error("wtf");return a}set exponent(a){if(!Number.isSafeInteger(a))throw new Error("wtf");a=w.positiveModulo(a,N.EXPONENT_COUNT),this.exponentBits=a.toString(2).padStart(11,"0")}constructor(a=0){this.#i=a,this.#r=N.toBinary(a),this.#c.classList.add("exponent","fixed-width"),this.#c.innerText=".",this.#n.style.wordBreak="break-all",this.#a.classList.add("fixed-width","exponent");const d=document.createElement("div");d.style.wordBreak="break-all",d.append(...this.#l);const f=document.createElement("div");f.append("Value:"+w.NON_BREAKING_SPACE+w.NON_BREAKING_SPACE,this.#o),this.#o.classList.add("bits-as-string");const c=document.createElement("div");c.classList.add("exponent"),c.style.display="flex",c.append("Exponent:"+w.NON_BREAKING_SPACE+w.NON_BREAKING_SPACE,this.#d);const[,l]=F(c,w.NON_BREAKING_SPACE+"<button>+1</button>",Text,HTMLButtonElement),[,g]=F(c,w.NON_BREAKING_SPACE+"<button>-1</button>",Text,HTMLButtonElement);l.addEventListener("click",()=>this.exponent++),g.addEventListener("click",()=>this.exponent--);const m=document.createElement("div");{const s=()=>w.parseFloatX(this.#f.value)??NaN;let r=document.createElement("button");r.innerText="=",r.addEventListener("click",()=>{this.value=s()}),m.append(r," "),r=document.createElement("button"),r.innerText="+=",r.addEventListener("click",()=>{this.value+=s()}),m.append(r," "),r=document.createElement("button"),r.innerText="-=",r.addEventListener("click",()=>{this.value-=s()}),m.append(r," "),r=document.createElement("button"),r.innerText="*=",r.addEventListener("click",()=>{this.value*=s()}),m.append(r," "),r=document.createElement("button"),r.innerText="/=",r.addEventListener("click",()=>{this.value/=s()}),m.append(r," "),r=document.createElement("button"),r.innerText="%=",r.addEventListener("click",()=>{this.value%=s()}),m.append(r," "),r=document.createElement("button"),r.innerText="^=",r.addEventListener("click",()=>{this.value^=s()}),m.append(r," "),r=document.createElement("button"),r.innerText="&=",r.addEventListener("click",()=>{this.value&=s()}),m.append(r," "),r=document.createElement("button"),r.innerText="|=",r.addEventListener("click",()=>{this.value|=s()}),m.append(r," ")}m.appendChild(this.#f);const p=document.createElement("div");{let s=document.createElement("button");s.innerText="NaN",s.addEventListener("click",()=>this.value=NaN),p.append("= ",s),s=document.createElement("button"),s.innerText="-Infinity",s.addEventListener("click",()=>this.value=-1/0),p.append(" ",s),s=document.createElement("button"),s.innerText="Min Safe Integer",s.addEventListener("click",()=>this.value=Number.MIN_SAFE_INTEGER),p.append(" ",s),s=document.createElement("button"),s.innerText="Min Value",s.addEventListener("click",()=>this.value=Number.MIN_VALUE),p.append(" ",s),s=document.createElement("button"),s.innerText="Epsilon",s.addEventListener("click",()=>this.value=Number.EPSILON),p.append(" ",s),s=document.createElement("button"),s.innerText="Max Safe Integer",s.addEventListener("click",()=>this.value=Number.MAX_SAFE_INTEGER),p.append(" ",s),s=document.createElement("button"),s.innerText="Max Value",s.addEventListener("click",()=>this.value=Number.MAX_VALUE),p.append(" ",s),s=document.createElement("button"),s.innerText="Infinity",s.addEventListener("click",()=>this.value=1/0),p.append(" ",s)}this.#e.appendChild(d),this.#e.appendChild(f),this.#e.appendChild(c),this.#e.appendChild(this.#n),this.#e.appendChild(m),this.#e.appendChild(p),this.#e.classList.add("top"),this.#h()}#h(){for(const[f,c]of w.zip(this.bits,this.#l))c.innerText=f;if(this.#o.innerText=this.value.toString(),this.exponentBits.length!=11)throw new Error("wtf");const d=this.exponent;this.#d.innerText=d.toLocaleString();{const f=this.bits.substring(12);if(f.length!=52)throw new Error("wtf");this.#n.innerText="";const c=1023;if(d>=c&&d<=1075){this.#n.appendChild(this.#E).innerText=this.bits[0]=="0"?"+":"-",this.#a.innerText="1";const g="1"+f,m=d-c;let p=NaN;this.#u.forEach((s,r)=>{const h=g[r];this.#n.appendChild(s).innerText=h,h=="1"&&(p=r),r==m&&(this.#n.appendChild(this.#c),p=r)}),w.assertFinite(p),this.#u.forEach((s,r)=>{const v=r>p?"100":"";s.style.fontWeight=v}),console.log("trailingZerosStartAfter",p)}}}get value(){return this.#i}set value(a){this.#i=a,this.#r=N.toBinary(a),this.#h()}get bits(){return this.#r}set bits(a){const d=N.fromBinary(a);if(d===void 0)throw new Error("invalid");this.value=d,a!=this.bits&&console.info(a,this.bits)}get top(){return this.#e}}window.DoubleViewer=N;const ee=new N(7);Q.getById("main",HTMLHeadingElement).insertAdjacentElement("afterend",ee.top);

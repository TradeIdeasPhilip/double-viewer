(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))f(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const E of h.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&f(E)}).observe(document,{childList:!0,subtree:!0});function p(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function f(c){if(c.ep)return;c.ep=!0;const h=p(c);fetch(c.href,h)}})();var S={},k;function O(){return k||(k=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.countMap=i.Random=i.phi=i.radiansPerDegree=i.degreesPerRadian=i.FULL_CIRCLE=i.FIGURE_SPACE=i.NON_BREAKING_SPACE=i.MIN_DATE=i.MAX_DATE=i.csvStringToArray=void 0,i.assertClass=o,i.sleep=p,i.testXml=f,i.parseXml=c,i.followPath=h,i.getAttribute=E,i.parseFloatX=L,i.parseIntX=v,i.parseTimeT=d,i.pickAny=u,i.pick=n,i.take=a,i.filterMap=b,i.makePromise=A,i.dateIsValid=U,i.angleBetween=x,i.positiveModulo=y,i.rotateArray=H,i.rectUnion=B,i.rectAddPoint=D,i.dateToFileName=G,i.lerp=$,i.assertFinite=j,i.shuffleArray=z,i.zip=q,i.count=K,i.initializedArray=I,i.sum=W,i.makeLinear=Z,i.makeBoundedLinear=Y,i.polarToRectangular=J,i.permutations=F;function o(t,e,r="Assertion Failed."){const s=m=>{throw new Error(`${r}  Expected type:  ${e.name}.  Found type:  ${m}.`)};if(t===null)s("null");else if(typeof t!="object")s(typeof t);else if(!(t instanceof e))s(t.constructor.name);else return t;throw new Error("wtf")}function p(t){return new Promise(e=>{setTimeout(e,t)})}function f(t){const r=new DOMParser().parseFromString(t,"application/xml");for(const s of Array.from(r.querySelectorAll("parsererror")))if(s instanceof HTMLElement)return{error:s};return{parsed:r}}function c(t){if(t!==void 0)return f(t)?.parsed?.documentElement}function h(t,...e){for(const r of e){if(t===void 0)return;if(typeof r=="number")t=t.children[r];else{const s=t.getElementsByTagName(r);if(s.length!=1)return;t=s[0]}}return t}function E(t,e,...r){if(e=h(e,...r),e!==void 0&&e.hasAttribute(t))return e.getAttribute(t)??void 0}function L(t){if(t==null)return;const e=+t;if(isFinite(e))return e}function v(t){const e=L(t);if(e!==void 0)return e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER||e!=Math.floor(e)?void 0:e}function d(t){if(typeof t=="string"&&(t=v(t)),t!=null&&!(t<=0))return new Date(t*1e3)}const l=t=>{const e=/(,|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^,\r\n]*))/gi,r=[[]];let s;for(;s=e.exec(t);)s[1].length&&s[1]!==","&&r.push([]),r[r.length-1].push(s[2]!==void 0?s[2].replace(/""/g,'"'):s[3]);return r};i.csvStringToArray=l;function u(t){const e=t.values().next();if(!e.done)return e.value}function n(t){if(t.length==0)throw new Error("wtf");return t[Math.random()*t.length|0]}function a(t){if(t.length<1)throw new Error("wtf");const e=Math.random()*t.length|0;return t.splice(e,1)[0]}function b(t,e){const r=[];return t.forEach((s,m)=>{const g=e(s,m);g!==void 0&&r.push(g)}),r}function A(){let t,e;return{promise:new Promise((s,m)=>{t=s,e=m}),resolve:t,reject:e}}i.MAX_DATE=new Date(864e13),i.MIN_DATE=new Date(-864e13);function U(t){return isFinite(t.getTime())}i.NON_BREAKING_SPACE=" ",i.FIGURE_SPACE=" ",i.FULL_CIRCLE=2*Math.PI,i.degreesPerRadian=360/i.FULL_CIRCLE,i.radiansPerDegree=i.FULL_CIRCLE/360,i.phi=(1+Math.sqrt(5))/2;function x(t,e){const r=y(t,i.FULL_CIRCLE);let m=y(e,i.FULL_CIRCLE)-r;const g=i.FULL_CIRCLE/2;if(m>g?m-=i.FULL_CIRCLE:m<-g&&(m+=i.FULL_CIRCLE),Math.abs(m)>g)throw new Error("wtf");return m}function y(t,e){const r=t%e;return r<0?r+Math.abs(e):r}function H(t,e){if((e|0)!=e)throw new Error(`invalid input: ${e}`);return e=y(e,t.length),e==0?t:[...t.slice(e),...t.slice(0,e)]}class X{static sfc32(e,r,s,m){return function(){e|=0,r|=0,s|=0,m|=0;let g=(e+r|0)+m|0;return m=m+1|0,e=r^r>>>9,r=s+(s<<3)|0,s=s<<21|s>>>11,s=s+g|0,(g>>>0)/4294967296}}static#n=42;static create(e=this.newSeed()){console.info(e);const r=JSON.parse(e);if(!(r instanceof Array))throw new Error("invalid seed");if(r.length!=4)throw new Error("invalid seed");const[s,m,g,C]=r;if(!(typeof s=="number"&&typeof m=="number"&&typeof g=="number"&&typeof C=="number"))throw new Error("invalid seed");return this.sfc32(s,m,g,C)}static newSeed(){const e=[];return e.push(Date.now()),e.push(this.#n++),e.push(Math.random()*2**31|0),e.push(Math.random()*2**31|0),JSON.stringify(e)}}i.Random=X;function B(t,e){const r=Math.min(t.x,e.x),s=Math.min(t.y,e.y),m=Math.max(t.x+t.width,e.x+e.width),g=Math.max(t.y+t.height,e.y+e.height),C=m-r,Q=g-s;return{x:r,y:s,width:C,height:Q}}function D(t,e,r){return B(t,{x:e,y:r,width:0,height:0})}function G(t){return isNaN(t.getTime())?"0000⸱00⸱00 00⦂00⦂00":`${t.getFullYear().toString().padStart(4,"0")}⸱${(t.getMonth()+1).toString().padStart(2,"0")}⸱${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}⦂${t.getMinutes().toString().padStart(2,"0")}⦂${t.getSeconds().toString().padStart(2,"0")}`}function $(t,e,r){return t+(e-t)*r}function j(...t){t.forEach(e=>{if(!isFinite(e))throw new Error("wtf")})}function z(t){for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}function*q(...t){const e=t.map(r=>r[Symbol.iterator]());for(;;){const r=e.map(s=>s.next());if(r.some(({done:s})=>s))break;yield r.map(({value:s})=>s)}}function*K(t=0,e=1/0,r=1){for(let s=t;s<e;s+=r)yield s}function I(t,e){const r=[];for(let s=0;s<t;s++)r.push(e(s));return r}i.countMap=I;function W(t){return t.reduce((e,r)=>e+r,0)}function Z(t,e,r,s){const m=(s-e)/(r-t);return function(g){return(g-t)*m+e}}function Y(t,e,r,s){r<t&&([t,e,r,s]=[r,s,t,e]);const m=(s-e)/(r-t);return function(g){return g<=t?e:g>=r?s:(g-t)*m+e}}function J(t,e){return{x:Math.cos(e)*t,y:Math.sin(e)*t}}function*F(t,e=[]){if(t.length==0)yield e;else for(let r=0;r<t.length;r++){const s=t[r],m=[...e,s],g=[...t.slice(0,r),...t.slice(r+1)];yield*F(g,m)}}}(S)),S}var w=O(),N={},_;function V(){if(_)return N;_=1,Object.defineProperty(N,"__esModule",{value:!0}),N.AnimationLoop=void 0,N.getById=o,N.loadDateTimeLocal=p,N.getBlobFromCanvas=f,N.getAudioBalanceControl=c,N.getHashInfo=h,N.createElementFromHTML=E,N.download=L;const i=O();function o(d,l){const u=document.getElementById(d);if(!u)throw new Error("Could not find element with id "+d+".  Expected type:  "+l.name);if(u instanceof l)return u;throw new Error("Element with id "+d+" has type "+u.constructor.name+".  Expected type:  "+l.name)}function p(d,l,u="milliseconds"){let n;switch(u){case"minutes":{n=l.getSeconds()*1e3+l.getMilliseconds();break}case"seconds":{n=l.getMilliseconds();break}case"milliseconds":{n=0;break}default:throw new Error("wtf")}d.valueAsNumber=+l-l.getTimezoneOffset()*6e4-n}function f(d){const{reject:l,resolve:u,promise:n}=(0,i.makePromise)();return d.toBlob(a=>{a?u(a):l(new Error("blob is null!"))}),n}function c(d){const l=new AudioContext,u=l.createMediaElementSource(d),n=new StereoPannerNode(l,{pan:0});return u.connect(n).connect(l.destination),a=>{n.pan.value=a}}function h(){const d=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(n=>{const a=n.split("=",2);if(a.length==2){const b=decodeURIComponent(a[0]),A=decodeURIComponent(a[1]);d.set(b,A)}}),d}function E(d,l){var u=document.createElement("div");return u.innerHTML=d.trim(),(0,i.assertClass)(u.firstChild,l,"createElementFromHTML:")}function L(d,l){var u=document.createElement("a");if(u.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(l)),u.setAttribute("download",d),document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),u.dispatchEvent(n)}else u.click()}class v{onWake;constructor(l){this.onWake=l,this.callback=this.callback.bind(this),requestAnimationFrame(this.callback)}#n=!1;cancel(){this.#n=!0}callback(l){this.#n||(requestAnimationFrame(this.callback),this.onWake(l))}}return N.AnimationLoop=v,N}var tt=V();function M(i,o){const p=i.childNodes.length;i.insertAdjacentHTML("beforeend",o);const f=i.childNodes,c=new Array,h=i.childNodes.length;for(let E=p;E<h;E++)c.push(f[E]);return c}function P(i,o,p){const f=M(i,o);if(f.length!=1)throw new Error("wtf");return w.assertClass(f[0],p)}function R(i,o,p,f){const c=M(i,o);if(c.length!=2)throw new Error("wtf");return[w.assertClass(c[0],p),w.assertClass(c[1],f)]}class T{static#n=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));static toBinary(o){const f="",h=T.#n;return h.setFloat64(0,o,!1),w.initializedArray(Float64Array.BYTES_PER_ELEMENT,L=>h.getUint8(L).toString(2).padStart(8,"0")).join(f)}static fromBinary(o){if(o.length!=64)return;for(const h of o)if(h!="0"&&h!="1")return;const p=T.#n;for(let h=0;h<8;h++){const E=o.substring(h*8,(h+1)*8),L=parseInt(E,2);p.setUint8(h,L)}return p.getFloat64(0,!1)}static toFloat(o){return this.#n.setFloat32(0,o),this.#n.getFloat32(0)}#o;#a;#i=document.createElement("div");#c(o){const p=document.createElement("span"),f=()=>{const c=[...this.bits],E=c[o]=="0"?"1":"0";c[o]=E,this.bits=c.join("")};return p.addEventListener("pointerdown",f),p.addEventListener("keypress",c=>{(c.key==" "||c.key=="Enter")&&(f(),c.stopPropagation())}),p.style.cursor="pointer",p.dataset.digit=o.toString(),p.tabIndex=0,p}#d=w.initializedArray(64,o=>this.#c(o));#u=document.createElement("span");#h=document.createElement("span");#t=document.createElement("div");#p=w.initializedArray(52,o=>this.#c(o+12));#s=document.createElement("span");#r=[this.#s,...this.#p];#m=this.#c(0);#e=document.createElement("span");#l=document.createElement("input");get exponentBits(){return this.bits.substring(1,12)}set exponentBits(o){if(!/^[01]{11}$/.test(o))throw new Error("wtf");const p=[...this.bits].toSpliced(1,o.length,...o).join("");if(this.bits=p,this.exponentBits!=o)throw new Error("wtf")}static EXPONENT_COUNT=2048;get exponent(){const o=parseInt(this.exponentBits,2);if(!(Number.isSafeInteger(o)&&o>=0&&o<T.EXPONENT_COUNT))throw new Error("wtf");return o}set exponent(o){if(!Number.isSafeInteger(o))throw new Error("wtf");o=w.positiveModulo(o,T.EXPONENT_COUNT),this.exponentBits=o.toString(2).padStart(11,"0")}constructor(o=0){this.#o=o,this.#a=T.toBinary(o),this.#e.classList.add("exponent"),this.#e.dataset.digit="x",this.#e.innerText=".";const p=n=>{const{left:a,width:b}=this.#e.getBoundingClientRect();return n.clientX<a+b/2},f=n=>{this.#e.style.cursor=p(n)?"w-resize":"e-resize"};this.#e.addEventListener("mouseenter",f),this.#e.addEventListener("mouseleave",f),this.#e.addEventListener("mousemove",f),this.#e.addEventListener("click",n=>{p(n)?this.exponent--:this.exponent++}),this.#t.style.wordBreak="break-all",this.#s.classList.add("exponent"),this.#s.dataset.digit="x";const c=document.createElement("div");c.style.wordBreak="break-all",c.append(...this.#d);const h=document.createElement("div");h.append("Value:"+w.NON_BREAKING_SPACE+w.NON_BREAKING_SPACE,this.#u);const E=document.createElement("div");E.classList.add("exponent"),E.style.display="flex",E.append("Exponent:"+w.NON_BREAKING_SPACE+w.NON_BREAKING_SPACE,this.#h);const[,L]=R(E,w.NON_BREAKING_SPACE+"<button>+1</button>",Text,HTMLButtonElement),[,v]=R(E,w.NON_BREAKING_SPACE+"<button>-1</button>",Text,HTMLButtonElement);L.addEventListener("click",()=>this.exponent++),v.addEventListener("click",()=>this.exponent--);const d=document.createElement("div");{const n=()=>w.parseFloatX(this.#l.value)??NaN;let a=document.createElement("button");a.innerText="=",a.addEventListener("click",()=>{this.value=n()}),d.append(a," "),a=document.createElement("button"),a.innerText="+=",a.addEventListener("click",()=>{this.value+=n()}),d.append(a," "),a=document.createElement("button"),a.innerText="-=",a.addEventListener("click",()=>{this.value-=n()}),d.append(a," "),a=document.createElement("button"),a.innerText="*=",a.addEventListener("click",()=>{this.value*=n()}),d.append(a," "),a=document.createElement("button"),a.innerText="/=",a.addEventListener("click",()=>{this.value/=n()}),d.append(a," "),a=document.createElement("button"),a.innerText="%=",a.addEventListener("click",()=>{this.value%=n()}),d.append(a," "),a=document.createElement("button"),a.innerText="^=",a.addEventListener("click",()=>{this.value^=n()}),d.append(a," "),a=document.createElement("button"),a.innerText="&=",a.addEventListener("click",()=>{this.value&=n()}),d.append(a," "),a=document.createElement("button"),a.innerText="|=",a.addEventListener("click",()=>{this.value|=n()}),d.append(a," ")}d.appendChild(this.#l),this.#l.value="2";const l=document.createElement("div");{let n=document.createElement("button");n.innerText="NaN",n.addEventListener("click",()=>this.value=NaN),l.append("= ",n),n=document.createElement("button"),n.innerText="-Infinity",n.addEventListener("click",()=>this.value=-1/0),l.append(" ",n),n=document.createElement("button"),n.innerText="Min Safe Integer",n.addEventListener("click",()=>this.value=Number.MIN_SAFE_INTEGER),l.append(" ",n),n=document.createElement("button"),n.innerText="Min Value",n.addEventListener("click",()=>this.value=Number.MIN_VALUE),l.append(" ",n),n=document.createElement("button"),n.innerText="Epsilon",n.addEventListener("click",()=>this.value=Number.EPSILON),l.append(" ",n),n=document.createElement("button"),n.innerText="Max Safe Integer",n.addEventListener("click",()=>this.value=Number.MAX_SAFE_INTEGER),l.append(" ",n),n=document.createElement("button"),n.innerText="Max Value",n.addEventListener("click",()=>this.value=Number.MAX_VALUE),l.append(" ",n),n=document.createElement("button"),n.innerText="Infinity",n.addEventListener("click",()=>this.value=1/0),l.append(" ",n)}const u=document.createElement("div");u.style.display="flex",u.style.gap="0.25em",u.style.padding="0.25em 0",P(u,"<button>1/x</button>",HTMLButtonElement).addEventListener("click",()=>this.value=1/this.value),P(u,"<button>32 Bits</button>",HTMLButtonElement).addEventListener("click",()=>{this.value=T.toFloat(this.value)}),this.#i.appendChild(h),this.#i.appendChild(c),this.#i.appendChild(E),this.#i.appendChild(this.#t),this.#i.appendChild(d),this.#i.appendChild(l),this.#i.appendChild(u),this.#i.classList.add("top"),this.#f()}#f(){for(const[c,h]of w.zip(this.bits,this.#d))h.innerText=c;function o(c){return Math.abs(c)<=Number.MAX_SAFE_INTEGER?c.toLocaleString():c.toExponential()}if(this.#u.innerText=o(this.value),this.exponentBits.length!=11)throw new Error("wtf");const f=this.exponent;this.#h.innerText=f.toLocaleString();{const c=this.bits.substring(12);if(c.length!=52)throw new Error("wtf");this.#t.innerText="";const h=1023,E=1075;if(f==T.EXPONENT_COUNT-1)this.#t.innerText="Infinity or NaN";else if(this.#t.appendChild(this.#m).innerText=this.bits[0]=="0"?"+":"-",f==0){const L="0"+c;this.#s.innerText="0",M(this.#t,'<span data-digit="x">0</span>'),this.#t.appendChild(this.#e),M(this.#t,'<span data-digit="x">0…0</span>'),this.#r.forEach((v,d)=>{const l=L[d];this.#t.appendChild(v).innerText=l,v.style.fontWeight=""})}else{const L="1"+c;if(this.#s.innerText="1",f>E){const v=f-E;this.#r.forEach((l,u)=>{const n=L[u];this.#t.appendChild(l).innerText=n,l.style.fontWeight=""});const d=v>3?"0…0":"0".repeat(v);M(this.#t,`<span data-digit="x">${d}</span>`),this.#t.appendChild(this.#e)}else if(f>=h){const v=f-h;let d=NaN;this.#r.forEach((l,u)=>{const n=L[u];this.#t.appendChild(l).innerText=n,n=="1"&&(d=u),u==v&&(this.#t.appendChild(this.#e),d=u)}),w.assertFinite(d),this.#r.forEach((l,u)=>{const a=u>d?"100":"";l.style.fontWeight=a})}else{const v=h-f;M(this.#t,'<span data-digit="x">0</span>'),this.#t.appendChild(this.#e);const d=v>3?"0…0":"0".repeat(v-1);M(this.#t,`<span data-digit="x">${d}</span>`);let l=NaN;this.#r.forEach((u,n)=>{const a=L[n];this.#t.appendChild(u).innerText=a,a=="1"&&(l=n),u.style.fontWeight=""}),w.assertFinite(l),this.#r.forEach((u,n)=>{const b=n>l?"100":"";u.style.fontWeight=b})}}}}get value(){return this.#o}set value(o){this.#o=o,this.#a=T.toBinary(o),this.#f()}get bits(){return this.#a}set bits(o){const p=T.fromBinary(o);if(p===void 0)throw new Error("invalid");this.value=p,o!=this.bits&&console.info(o,this.bits)}get top(){return this.#i}}window.DoubleViewer=T;const et=new T(3.5);tt.getById("main",HTMLHeadingElement).insertAdjacentElement("afterend",et.top);

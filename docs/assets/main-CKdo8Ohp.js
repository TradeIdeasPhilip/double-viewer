(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))h(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&h(m)}).observe(document,{childList:!0,subtree:!0});function f(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function h(c){if(c.ep)return;c.ep=!0;const u=f(c);fetch(c.href,u)}})();var S={},F;function R(){return F||(F=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.countMap=i.Random=i.phi=i.radiansPerDegree=i.degreesPerRadian=i.FULL_CIRCLE=i.FIGURE_SPACE=i.NON_BREAKING_SPACE=i.MIN_DATE=i.MAX_DATE=i.csvStringToArray=void 0,i.assertClass=a,i.sleep=f,i.testXml=h,i.parseXml=c,i.followPath=u,i.getAttribute=m,i.parseFloatX=w,i.parseIntX=v,i.parseTimeT=d,i.pickAny=n,i.pick=s,i.take=g,i.filterMap=b,i.makePromise=y,i.dateIsValid=O,i.angleBetween=U,i.positiveModulo=M,i.rotateArray=X,i.rectUnion=I,i.rectAddPoint=D,i.dateToFileName=G,i.lerp=H,i.assertFinite=$,i.shuffleArray=j,i.zip=z,i.count=q,i.initializedArray=B,i.sum=K,i.makeLinear=W,i.makeBoundedLinear=Z,i.polarToRectangular=Y,i.permutations=k;function a(e,t,r="Assertion Failed."){const o=p=>{throw new Error(`${r}  Expected type:  ${t.name}.  Found type:  ${p}.`)};if(e===null)o("null");else if(typeof e!="object")o(typeof e);else if(!(e instanceof t))o(e.constructor.name);else return e;throw new Error("wtf")}function f(e){return new Promise(t=>{setTimeout(t,e)})}function h(e){const r=new DOMParser().parseFromString(e,"application/xml");for(const o of Array.from(r.querySelectorAll("parsererror")))if(o instanceof HTMLElement)return{error:o};return{parsed:r}}function c(e){if(e!==void 0)return h(e)?.parsed?.documentElement}function u(e,...t){for(const r of t){if(e===void 0)return;if(typeof r=="number")e=e.children[r];else{const o=e.getElementsByTagName(r);if(o.length!=1)return;e=o[0]}}return e}function m(e,t,...r){if(t=u(t,...r),t!==void 0&&t.hasAttribute(e))return t.getAttribute(e)??void 0}function w(e){if(e==null)return;const t=+e;if(isFinite(t))return t}function v(e){const t=w(e);if(t!==void 0)return t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||t!=Math.floor(t)?void 0:t}function d(e){if(typeof e=="string"&&(e=v(e)),e!=null&&!(e<=0))return new Date(e*1e3)}const l=e=>{const t=/(,|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^,\r\n]*))/gi,r=[[]];let o;for(;o=t.exec(e);)o[1].length&&o[1]!==","&&r.push([]),r[r.length-1].push(o[2]!==void 0?o[2].replace(/""/g,'"'):o[3]);return r};i.csvStringToArray=l;function n(e){const t=e.values().next();if(!t.done)return t.value}function s(e){if(e.length==0)throw new Error("wtf");return e[Math.random()*e.length|0]}function g(e){if(e.length<1)throw new Error("wtf");const t=Math.random()*e.length|0;return e.splice(t,1)[0]}function b(e,t){const r=[];return e.forEach((o,p)=>{const E=t(o,p);E!==void 0&&r.push(E)}),r}function y(){let e,t;return{promise:new Promise((o,p)=>{e=o,t=p}),resolve:e,reject:t}}i.MAX_DATE=new Date(864e13),i.MIN_DATE=new Date(-864e13);function O(e){return isFinite(e.getTime())}i.NON_BREAKING_SPACE=" ",i.FIGURE_SPACE=" ",i.FULL_CIRCLE=2*Math.PI,i.degreesPerRadian=360/i.FULL_CIRCLE,i.radiansPerDegree=i.FULL_CIRCLE/360,i.phi=(1+Math.sqrt(5))/2;function U(e,t){const r=M(e,i.FULL_CIRCLE);let p=M(t,i.FULL_CIRCLE)-r;const E=i.FULL_CIRCLE/2;if(p>E?p-=i.FULL_CIRCLE:p<-E&&(p+=i.FULL_CIRCLE),Math.abs(p)>E)throw new Error("wtf");return p}function M(e,t){const r=e%t;return r<0?r+Math.abs(t):r}function X(e,t){if((t|0)!=t)throw new Error(`invalid input: ${t}`);return t=M(t,e.length),t==0?e:[...e.slice(t),...e.slice(0,t)]}class x{static sfc32(t,r,o,p){return function(){t|=0,r|=0,o|=0,p|=0;let E=(t+r|0)+p|0;return p=p+1|0,t=r^r>>>9,r=o+(o<<3)|0,o=o<<21|o>>>11,o=o+E|0,(E>>>0)/4294967296}}static#i=42;static create(t=this.newSeed()){console.info(t);const r=JSON.parse(t);if(!(r instanceof Array))throw new Error("invalid seed");if(r.length!=4)throw new Error("invalid seed");const[o,p,E,C]=r;if(!(typeof o=="number"&&typeof p=="number"&&typeof E=="number"&&typeof C=="number"))throw new Error("invalid seed");return this.sfc32(o,p,E,C)}static newSeed(){const t=[];return t.push(Date.now()),t.push(this.#i++),t.push(Math.random()*2**31|0),t.push(Math.random()*2**31|0),JSON.stringify(t)}}i.Random=x;function I(e,t){const r=Math.min(e.x,t.x),o=Math.min(e.y,t.y),p=Math.max(e.x+e.width,t.x+t.width),E=Math.max(e.y+e.height,t.y+t.height),C=p-r,J=E-o;return{x:r,y:o,width:C,height:J}}function D(e,t,r){return I(e,{x:t,y:r,width:0,height:0})}function G(e){return isNaN(e.getTime())?"0000⸱00⸱00 00⦂00⦂00":`${e.getFullYear().toString().padStart(4,"0")}⸱${(e.getMonth()+1).toString().padStart(2,"0")}⸱${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}⦂${e.getMinutes().toString().padStart(2,"0")}⦂${e.getSeconds().toString().padStart(2,"0")}`}function H(e,t,r){return e+(t-e)*r}function $(...e){e.forEach(t=>{if(!isFinite(t))throw new Error("wtf")})}function j(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}function*z(...e){const t=e.map(r=>r[Symbol.iterator]());for(;;){const r=t.map(o=>o.next());if(r.some(({done:o})=>o))break;yield r.map(({value:o})=>o)}}function*q(e=0,t=1/0,r=1){for(let o=e;o<t;o+=r)yield o}function B(e,t){const r=[];for(let o=0;o<e;o++)r.push(t(o));return r}i.countMap=B;function K(e){return e.reduce((t,r)=>t+r,0)}function W(e,t,r,o){const p=(o-t)/(r-e);return function(E){return(E-e)*p+t}}function Z(e,t,r,o){r<e&&([e,t,r,o]=[r,o,e,t]);const p=(o-t)/(r-e);return function(E){return E<=e?t:E>=r?o:(E-e)*p+t}}function Y(e,t){return{x:Math.cos(t)*e,y:Math.sin(t)*e}}function*k(e,t=[]){if(e.length==0)yield t;else for(let r=0;r<e.length;r++){const o=e[r],p=[...t,o],E=[...e.slice(0,r),...e.slice(r+1)];yield*k(E,p)}}}(S)),S}var N=R(),L={},_;function Q(){if(_)return L;_=1,Object.defineProperty(L,"__esModule",{value:!0}),L.AnimationLoop=void 0,L.getById=a,L.loadDateTimeLocal=f,L.getBlobFromCanvas=h,L.getAudioBalanceControl=c,L.getHashInfo=u,L.createElementFromHTML=m,L.download=w;const i=R();function a(d,l){const n=document.getElementById(d);if(!n)throw new Error("Could not find element with id "+d+".  Expected type:  "+l.name);if(n instanceof l)return n;throw new Error("Element with id "+d+" has type "+n.constructor.name+".  Expected type:  "+l.name)}function f(d,l,n="milliseconds"){let s;switch(n){case"minutes":{s=l.getSeconds()*1e3+l.getMilliseconds();break}case"seconds":{s=l.getMilliseconds();break}case"milliseconds":{s=0;break}default:throw new Error("wtf")}d.valueAsNumber=+l-l.getTimezoneOffset()*6e4-s}function h(d){const{reject:l,resolve:n,promise:s}=(0,i.makePromise)();return d.toBlob(g=>{g?n(g):l(new Error("blob is null!"))}),s}function c(d){const l=new AudioContext,n=l.createMediaElementSource(d),s=new StereoPannerNode(l,{pan:0});return n.connect(s).connect(l.destination),g=>{s.pan.value=g}}function u(){const d=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(s=>{const g=s.split("=",2);if(g.length==2){const b=decodeURIComponent(g[0]),y=decodeURIComponent(g[1]);d.set(b,y)}}),d}function m(d,l){var n=document.createElement("div");return n.innerHTML=d.trim(),(0,i.assertClass)(n.firstChild,l,"createElementFromHTML:")}function w(d,l){var n=document.createElement("a");if(n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(l)),n.setAttribute("download",d),document.createEvent){var s=document.createEvent("MouseEvents");s.initEvent("click",!0,!0),n.dispatchEvent(s)}else n.click()}class v{onWake;constructor(l){this.onWake=l,this.callback=this.callback.bind(this),requestAnimationFrame(this.callback)}#i=!1;cancel(){this.#i=!0}callback(l){this.#i||(requestAnimationFrame(this.callback),this.onWake(l))}}return L.AnimationLoop=v,L}var V=Q();function A(i,a){const f=i.childNodes.length;i.insertAdjacentHTML("beforeend",a);const h=i.childNodes,c=new Array,u=i.childNodes.length;for(let m=f;m<u;m++)c.push(h[m]);return c}function P(i,a,f,h){const c=A(i,a);if(c.length!=2)throw new Error("wtf");return[N.assertClass(c[0],f),N.assertClass(c[1],h)]}class T{static#i=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));static toBinary(a){const h="",u=T.#i;return u.setFloat64(0,a,!1),N.initializedArray(Float64Array.BYTES_PER_ELEMENT,w=>u.getUint8(w).toString(2).padStart(8,"0")).join(h)}static fromBinary(a){if(a.length!=64)return;for(const u of a)if(u!="0"&&u!="1")return;const f=T.#i;for(let u=0;u<8;u++){const m=a.substring(u*8,(u+1)*8),w=parseInt(m,2);f.setUint8(u,w)}return f.getFloat64(0,!1)}#o;#a;#n=document.createElement("div");#c(a){const f=document.createElement("span"),h=()=>{const c=[...this.bits],m=c[a]=="0"?"1":"0";c[a]=m,this.bits=c.join("")};return f.addEventListener("pointerdown",h),f.addEventListener("keypress",c=>{(c.key==" "||c.key=="Enter")&&(h(),c.stopPropagation())}),f.style.cursor="pointer",f.dataset.digit=a.toString(),f.tabIndex=0,f}#d=N.initializedArray(64,a=>this.#c(a));#u=document.createElement("span");#h=document.createElement("span");#e=document.createElement("div");#p=N.initializedArray(52,a=>this.#c(a+12));#s=document.createElement("span");#r=[this.#s,...this.#p];#m=this.#c(0);#t=document.createElement("span");#l=document.createElement("input");get exponentBits(){return this.bits.substring(1,12)}set exponentBits(a){if(!/^[01]{11}$/.test(a))throw new Error("wtf");const f=[...this.bits].toSpliced(1,a.length,...a).join("");if(this.bits=f,this.exponentBits!=a)throw new Error("wtf")}static EXPONENT_COUNT=2048;get exponent(){const a=parseInt(this.exponentBits,2);if(!(Number.isSafeInteger(a)&&a>=0&&a<T.EXPONENT_COUNT))throw new Error("wtf");return a}set exponent(a){if(!Number.isSafeInteger(a))throw new Error("wtf");a=N.positiveModulo(a,T.EXPONENT_COUNT),this.exponentBits=a.toString(2).padStart(11,"0")}constructor(a=0){this.#o=a,this.#a=T.toBinary(a),this.#t.classList.add("exponent","fixed-width"),this.#t.innerText=".";const f=n=>{const{left:s,width:g}=this.#t.getBoundingClientRect();return n.clientX<s+g/2},h=n=>{this.#t.style.cursor=f(n)?"w-resize":"e-resize"};this.#t.addEventListener("mouseenter",h),this.#t.addEventListener("mouseleave",h),this.#t.addEventListener("mousemove",h),this.#t.addEventListener("click",n=>{f(n)?this.exponent--:this.exponent++}),this.#e.style.wordBreak="break-all",this.#s.classList.add("fixed-width","exponent");const c=document.createElement("div");c.style.wordBreak="break-all",c.append(...this.#d);const u=document.createElement("div");u.append("Value:"+N.NON_BREAKING_SPACE+N.NON_BREAKING_SPACE,this.#u);const m=document.createElement("div");m.classList.add("exponent"),m.style.display="flex",m.append("Exponent:"+N.NON_BREAKING_SPACE+N.NON_BREAKING_SPACE,this.#h);const[,w]=P(m,N.NON_BREAKING_SPACE+"<button>+1</button>",Text,HTMLButtonElement),[,v]=P(m,N.NON_BREAKING_SPACE+"<button>-1</button>",Text,HTMLButtonElement);w.addEventListener("click",()=>this.exponent++),v.addEventListener("click",()=>this.exponent--);const d=document.createElement("div");{const n=()=>N.parseFloatX(this.#l.value)??NaN;let s=document.createElement("button");s.innerText="=",s.addEventListener("click",()=>{this.value=n()}),d.append(s," "),s=document.createElement("button"),s.innerText="+=",s.addEventListener("click",()=>{this.value+=n()}),d.append(s," "),s=document.createElement("button"),s.innerText="-=",s.addEventListener("click",()=>{this.value-=n()}),d.append(s," "),s=document.createElement("button"),s.innerText="*=",s.addEventListener("click",()=>{this.value*=n()}),d.append(s," "),s=document.createElement("button"),s.innerText="/=",s.addEventListener("click",()=>{this.value/=n()}),d.append(s," "),s=document.createElement("button"),s.innerText="%=",s.addEventListener("click",()=>{this.value%=n()}),d.append(s," "),s=document.createElement("button"),s.innerText="^=",s.addEventListener("click",()=>{this.value^=n()}),d.append(s," "),s=document.createElement("button"),s.innerText="&=",s.addEventListener("click",()=>{this.value&=n()}),d.append(s," "),s=document.createElement("button"),s.innerText="|=",s.addEventListener("click",()=>{this.value|=n()}),d.append(s," ")}d.appendChild(this.#l),this.#l.value="2";const l=document.createElement("div");{let n=document.createElement("button");n.innerText="NaN",n.addEventListener("click",()=>this.value=NaN),l.append("= ",n),n=document.createElement("button"),n.innerText="-Infinity",n.addEventListener("click",()=>this.value=-1/0),l.append(" ",n),n=document.createElement("button"),n.innerText="Min Safe Integer",n.addEventListener("click",()=>this.value=Number.MIN_SAFE_INTEGER),l.append(" ",n),n=document.createElement("button"),n.innerText="Min Value",n.addEventListener("click",()=>this.value=Number.MIN_VALUE),l.append(" ",n),n=document.createElement("button"),n.innerText="Epsilon",n.addEventListener("click",()=>this.value=Number.EPSILON),l.append(" ",n),n=document.createElement("button"),n.innerText="Max Safe Integer",n.addEventListener("click",()=>this.value=Number.MAX_SAFE_INTEGER),l.append(" ",n),n=document.createElement("button"),n.innerText="Max Value",n.addEventListener("click",()=>this.value=Number.MAX_VALUE),l.append(" ",n),n=document.createElement("button"),n.innerText="Infinity",n.addEventListener("click",()=>this.value=1/0),l.append(" ",n)}this.#n.appendChild(c),this.#n.appendChild(u),this.#n.appendChild(m),this.#n.appendChild(this.#e),this.#n.appendChild(d),this.#n.appendChild(l),this.#n.classList.add("top"),this.#f()}#f(){for(const[c,u]of N.zip(this.bits,this.#d))u.innerText=c;function a(c){return Math.abs(c)<=Number.MAX_SAFE_INTEGER?c.toLocaleString():c.toExponential()}if(this.#u.innerText=a(this.value),this.exponentBits.length!=11)throw new Error("wtf");const h=this.exponent;this.#h.innerText=h.toLocaleString();{const c=this.bits.substring(12);if(c.length!=52)throw new Error("wtf");this.#e.innerText="";const u=1023,m=1075;if(h==T.EXPONENT_COUNT-1)this.#e.innerText="Infinity or NaN";else if(this.#e.appendChild(this.#m).innerText=this.bits[0]=="0"?"+":"-",h==0){const w="0"+c;this.#s.innerText="0",A(this.#e,'<span data-digit="x">0</span>'),this.#e.appendChild(this.#t),A(this.#e,'<span data-digit="x">0…0</span>'),this.#r.forEach((v,d)=>{const l=w[d];this.#e.appendChild(v).innerText=l,v.style.fontWeight=""})}else{const w="1"+c;if(this.#s.innerText="1",h>m){const v=h-m;this.#r.forEach((l,n)=>{const s=w[n];this.#e.appendChild(l).innerText=s,l.style.fontWeight=""});const d=v>3?"0…0":"0".repeat(v);A(this.#e,`<span data-digit="x">${d}</span>`),this.#e.appendChild(this.#t)}else if(h>=u){const v=h-u;let d=NaN;this.#r.forEach((l,n)=>{const s=w[n];this.#e.appendChild(l).innerText=s,s=="1"&&(d=n),n==v&&(this.#e.appendChild(this.#t),d=n)}),N.assertFinite(d),this.#r.forEach((l,n)=>{const g=n>d?"100":"";l.style.fontWeight=g})}else{const v=u-h;A(this.#e,'<span data-digit="x">0</span>'),this.#e.appendChild(this.#t);const d=v>3?"0…0":"0".repeat(v-1);A(this.#e,`<span data-digit="x">${d}</span>`);let l=NaN;this.#r.forEach((n,s)=>{const g=w[s];this.#e.appendChild(n).innerText=g,g=="1"&&(l=s),n.style.fontWeight=""}),N.assertFinite(l),this.#r.forEach((n,s)=>{const b=s>l?"100":"";n.style.fontWeight=b})}}}}get value(){return this.#o}set value(a){this.#o=a,this.#a=T.toBinary(a),this.#f()}get bits(){return this.#a}set bits(a){const f=T.fromBinary(a);if(f===void 0)throw new Error("invalid");this.value=f,a!=this.bits&&console.info(a,this.bits)}get top(){return this.#n}}window.DoubleViewer=T;const ee=new T(7);V.getById("main",HTMLHeadingElement).insertAdjacentElement("afterend",ee.top);

(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))p(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const E of d.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&p(E)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function p(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();var S={},F;function R(){return F||(F=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.countMap=r.Random=r.phi=r.radiansPerDegree=r.degreesPerRadian=r.FULL_CIRCLE=r.FIGURE_SPACE=r.NON_BREAKING_SPACE=r.MIN_DATE=r.MAX_DATE=r.csvStringToArray=void 0,r.assertClass=a,r.sleep=l,r.testXml=p,r.parseXml=c,r.followPath=d,r.getAttribute=E,r.parseFloatX=h,r.parseIntX=m,r.parseTimeT=i,r.pickAny=u,r.pick=g,r.take=N,r.filterMap=C,r.makePromise=y,r.dateIsValid=O,r.angleBetween=U,r.positiveModulo=A,r.rotateArray=D,r.rectUnion=I,r.rectAddPoint=H,r.dateToFileName=x,r.lerp=G,r.assertFinite=$,r.shuffleArray=j,r.zip=q,r.count=z,r.initializedArray=B,r.sum=K,r.makeLinear=W,r.makeBoundedLinear=Z,r.polarToRectangular=Y,r.permutations=k;function a(e,t,s="Assertion Failed."){const o=f=>{throw new Error(`${s}  Expected type:  ${t.name}.  Found type:  ${f}.`)};if(e===null)o("null");else if(typeof e!="object")o(typeof e);else if(!(e instanceof t))o(e.constructor.name);else return e;throw new Error("wtf")}function l(e){return new Promise(t=>{setTimeout(t,e)})}function p(e){const s=new DOMParser().parseFromString(e,"application/xml");for(const o of Array.from(s.querySelectorAll("parsererror")))if(o instanceof HTMLElement)return{error:o};return{parsed:s}}function c(e){if(e!==void 0)return p(e)?.parsed?.documentElement}function d(e,...t){for(const s of t){if(e===void 0)return;if(typeof s=="number")e=e.children[s];else{const o=e.getElementsByTagName(s);if(o.length!=1)return;e=o[0]}}return e}function E(e,t,...s){if(t=d(t,...s),t!==void 0&&t.hasAttribute(e))return t.getAttribute(e)??void 0}function h(e){if(e==null)return;const t=+e;if(isFinite(t))return t}function m(e){const t=h(e);if(t!==void 0)return t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||t!=Math.floor(t)?void 0:t}function i(e){if(typeof e=="string"&&(e=m(e)),e!=null&&!(e<=0))return new Date(e*1e3)}const n=e=>{const t=/(,|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^,\r\n]*))/gi,s=[[]];let o;for(;o=t.exec(e);)o[1].length&&o[1]!==","&&s.push([]),s[s.length-1].push(o[2]!==void 0?o[2].replace(/""/g,'"'):o[3]);return s};r.csvStringToArray=n;function u(e){const t=e.values().next();if(!t.done)return t.value}function g(e){if(e.length==0)throw new Error("wtf");return e[Math.random()*e.length|0]}function N(e){if(e.length<1)throw new Error("wtf");const t=Math.random()*e.length|0;return e.splice(t,1)[0]}function C(e,t){const s=[];return e.forEach((o,f)=>{const v=t(o,f);v!==void 0&&s.push(v)}),s}function y(){let e,t;return{promise:new Promise((o,f)=>{e=o,t=f}),resolve:e,reject:t}}r.MAX_DATE=new Date(864e13),r.MIN_DATE=new Date(-864e13);function O(e){return isFinite(e.getTime())}r.NON_BREAKING_SPACE=" ",r.FIGURE_SPACE=" ",r.FULL_CIRCLE=2*Math.PI,r.degreesPerRadian=360/r.FULL_CIRCLE,r.radiansPerDegree=r.FULL_CIRCLE/360,r.phi=(1+Math.sqrt(5))/2;function U(e,t){const s=A(e,r.FULL_CIRCLE);let f=A(t,r.FULL_CIRCLE)-s;const v=r.FULL_CIRCLE/2;if(f>v?f-=r.FULL_CIRCLE:f<-v&&(f+=r.FULL_CIRCLE),Math.abs(f)>v)throw new Error("wtf");return f}function A(e,t){const s=e%t;return s<0?s+Math.abs(t):s}function D(e,t){if((t|0)!=t)throw new Error(`invalid input: ${t}`);return t=A(t,e.length),t==0?e:[...e.slice(t),...e.slice(0,t)]}class X{static sfc32(t,s,o,f){return function(){t|=0,s|=0,o|=0,f|=0;let v=(t+s|0)+f|0;return f=f+1|0,t=s^s>>>9,s=o+(o<<3)|0,o=o<<21|o>>>11,o=o+v|0,(v>>>0)/4294967296}}static#n=42;static create(t=this.newSeed()){console.info(t);const s=JSON.parse(t);if(!(s instanceof Array))throw new Error("invalid seed");if(s.length!=4)throw new Error("invalid seed");const[o,f,v,M]=s;if(!(typeof o=="number"&&typeof f=="number"&&typeof v=="number"&&typeof M=="number"))throw new Error("invalid seed");return this.sfc32(o,f,v,M)}static newSeed(){const t=[];return t.push(Date.now()),t.push(this.#n++),t.push(Math.random()*2**31|0),t.push(Math.random()*2**31|0),JSON.stringify(t)}}r.Random=X;function I(e,t){const s=Math.min(e.x,t.x),o=Math.min(e.y,t.y),f=Math.max(e.x+e.width,t.x+t.width),v=Math.max(e.y+e.height,t.y+t.height),M=f-s,J=v-o;return{x:s,y:o,width:M,height:J}}function H(e,t,s){return I(e,{x:t,y:s,width:0,height:0})}function x(e){return isNaN(e.getTime())?"0000⸱00⸱00 00⦂00⦂00":`${e.getFullYear().toString().padStart(4,"0")}⸱${(e.getMonth()+1).toString().padStart(2,"0")}⸱${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}⦂${e.getMinutes().toString().padStart(2,"0")}⦂${e.getSeconds().toString().padStart(2,"0")}`}function G(e,t,s){return e+(t-e)*s}function $(...e){e.forEach(t=>{if(!isFinite(t))throw new Error("wtf")})}function j(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}function*q(...e){const t=e.map(s=>s[Symbol.iterator]());for(;;){const s=t.map(o=>o.next());if(s.some(({done:o})=>o))break;yield s.map(({value:o})=>o)}}function*z(e=0,t=1/0,s=1){for(let o=e;o<t;o+=s)yield o}function B(e,t){const s=[];for(let o=0;o<e;o++)s.push(t(o));return s}r.countMap=B;function K(e){return e.reduce((t,s)=>t+s,0)}function W(e,t,s,o){const f=(o-t)/(s-e);return function(v){return(v-e)*f+t}}function Z(e,t,s,o){s<e&&([e,t,s,o]=[s,o,e,t]);const f=(o-t)/(s-e);return function(v){return v<=e?t:v>=s?o:(v-e)*f+t}}function Y(e,t){return{x:Math.cos(t)*e,y:Math.sin(t)*e}}function*k(e,t=[]){if(e.length==0)yield t;else for(let s=0;s<e.length;s++){const o=e[s],f=[...t,o],v=[...e.slice(0,s),...e.slice(s+1)];yield*k(v,f)}}}(S)),S}var w=R(),L={},_;function Q(){if(_)return L;_=1,Object.defineProperty(L,"__esModule",{value:!0}),L.AnimationLoop=void 0,L.getById=a,L.loadDateTimeLocal=l,L.getBlobFromCanvas=p,L.getAudioBalanceControl=c,L.getHashInfo=d,L.createElementFromHTML=E,L.download=h;const r=R();function a(i,n){const u=document.getElementById(i);if(!u)throw new Error("Could not find element with id "+i+".  Expected type:  "+n.name);if(u instanceof n)return u;throw new Error("Element with id "+i+" has type "+u.constructor.name+".  Expected type:  "+n.name)}function l(i,n,u="milliseconds"){let g;switch(u){case"minutes":{g=n.getSeconds()*1e3+n.getMilliseconds();break}case"seconds":{g=n.getMilliseconds();break}case"milliseconds":{g=0;break}default:throw new Error("wtf")}i.valueAsNumber=+n-n.getTimezoneOffset()*6e4-g}function p(i){const{reject:n,resolve:u,promise:g}=(0,r.makePromise)();return i.toBlob(N=>{N?u(N):n(new Error("blob is null!"))}),g}function c(i){const n=new AudioContext,u=n.createMediaElementSource(i),g=new StereoPannerNode(n,{pan:0});return u.connect(g).connect(n.destination),N=>{g.pan.value=N}}function d(){const i=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(g=>{const N=g.split("=",2);if(N.length==2){const C=decodeURIComponent(N[0]),y=decodeURIComponent(N[1]);i.set(C,y)}}),i}function E(i,n){var u=document.createElement("div");return u.innerHTML=i.trim(),(0,r.assertClass)(u.firstChild,n,"createElementFromHTML:")}function h(i,n){var u=document.createElement("a");if(u.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),u.setAttribute("download",i),document.createEvent){var g=document.createEvent("MouseEvents");g.initEvent("click",!0,!0),u.dispatchEvent(g)}else u.click()}class m{onWake;constructor(n){this.onWake=n,this.callback=this.callback.bind(this),requestAnimationFrame(this.callback)}#n=!1;cancel(){this.#n=!0}callback(n){this.#n||(requestAnimationFrame(this.callback),this.onWake(n))}}return L.AnimationLoop=m,L}var V=Q();function b(r,a){const l=r.childNodes.length;r.insertAdjacentHTML("beforeend",a);const p=r.childNodes,c=new Array,d=r.childNodes.length;for(let E=l;E<d;E++)c.push(p[E]);return c}function P(r,a,l,p){const c=b(r,a);if(c.length!=2)throw new Error("wtf");return[w.assertClass(c[0],l),w.assertClass(c[1],p)]}class T{static#n=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));static toBinary(a){const p="",d=T.#n;return d.setFloat64(0,a,!1),w.initializedArray(Float64Array.BYTES_PER_ELEMENT,h=>d.getUint8(h).toString(2).padStart(8,"0")).join(p)}static fromBinary(a){if(a.length!=64)return;for(const d of a)if(d!="0"&&d!="1")return;const l=T.#n;for(let d=0;d<8;d++){const E=a.substring(d*8,(d+1)*8),h=parseInt(E,2);l.setUint8(d,h)}return l.getFloat64(0,!1)}#o;#a;#t=document.createElement("div");#c(a){const l=document.createElement("span"),p=()=>{const c=[...this.bits],E=c[a]=="0"?"1":"0";c[a]=E,this.bits=c.join("")};return l.addEventListener("pointerdown",p),l.addEventListener("keypress",c=>{(c.key==" "||c.key=="Enter")&&(p(),c.stopPropagation())}),l.dataset.digit=a.toString(),l.tabIndex=0,l}#u=w.initializedArray(64,a=>this.#c(a));#l=document.createElement("span");#h=document.createElement("span");#e=document.createElement("div");#p=w.initializedArray(52,a=>this.#c(a+12));#s=document.createElement("span");#i=[this.#s,...this.#p];#m=this.#c(0);#r=document.createElement("span");#d=document.createElement("input");get exponentBits(){return this.bits.substring(1,12)}set exponentBits(a){if(!/^[01]{11}$/.test(a))throw new Error("wtf");const l=[...this.bits].toSpliced(1,a.length,...a).join("");if(this.bits=l,this.exponentBits!=a)throw new Error("wtf")}static EXPONENT_COUNT=2048;get exponent(){const a=parseInt(this.exponentBits,2);if(!(Number.isSafeInteger(a)&&a>=0&&a<T.EXPONENT_COUNT))throw new Error("wtf");return a}set exponent(a){if(!Number.isSafeInteger(a))throw new Error("wtf");a=w.positiveModulo(a,T.EXPONENT_COUNT),this.exponentBits=a.toString(2).padStart(11,"0")}constructor(a=0){this.#o=a,this.#a=T.toBinary(a),this.#r.classList.add("exponent","fixed-width"),this.#r.innerText=".",this.#e.style.wordBreak="break-all",this.#s.classList.add("fixed-width","exponent");const l=document.createElement("div");l.style.wordBreak="break-all",l.append(...this.#u);const p=document.createElement("div");p.append("Value:"+w.NON_BREAKING_SPACE+w.NON_BREAKING_SPACE,this.#l),this.#l.classList.add("bits-as-string");const c=document.createElement("div");c.classList.add("exponent"),c.style.display="flex",c.append("Exponent:"+w.NON_BREAKING_SPACE+w.NON_BREAKING_SPACE,this.#h);const[,d]=P(c,w.NON_BREAKING_SPACE+"<button>+1</button>",Text,HTMLButtonElement),[,E]=P(c,w.NON_BREAKING_SPACE+"<button>-1</button>",Text,HTMLButtonElement);d.addEventListener("click",()=>this.exponent++),E.addEventListener("click",()=>this.exponent--);const h=document.createElement("div");{const i=()=>w.parseFloatX(this.#d.value)??NaN;let n=document.createElement("button");n.innerText="=",n.addEventListener("click",()=>{this.value=i()}),h.append(n," "),n=document.createElement("button"),n.innerText="+=",n.addEventListener("click",()=>{this.value+=i()}),h.append(n," "),n=document.createElement("button"),n.innerText="-=",n.addEventListener("click",()=>{this.value-=i()}),h.append(n," "),n=document.createElement("button"),n.innerText="*=",n.addEventListener("click",()=>{this.value*=i()}),h.append(n," "),n=document.createElement("button"),n.innerText="/=",n.addEventListener("click",()=>{this.value/=i()}),h.append(n," "),n=document.createElement("button"),n.innerText="%=",n.addEventListener("click",()=>{this.value%=i()}),h.append(n," "),n=document.createElement("button"),n.innerText="^=",n.addEventListener("click",()=>{this.value^=i()}),h.append(n," "),n=document.createElement("button"),n.innerText="&=",n.addEventListener("click",()=>{this.value&=i()}),h.append(n," "),n=document.createElement("button"),n.innerText="|=",n.addEventListener("click",()=>{this.value|=i()}),h.append(n," ")}h.appendChild(this.#d),this.#d.value="2";const m=document.createElement("div");{let i=document.createElement("button");i.innerText="NaN",i.addEventListener("click",()=>this.value=NaN),m.append("= ",i),i=document.createElement("button"),i.innerText="-Infinity",i.addEventListener("click",()=>this.value=-1/0),m.append(" ",i),i=document.createElement("button"),i.innerText="Min Safe Integer",i.addEventListener("click",()=>this.value=Number.MIN_SAFE_INTEGER),m.append(" ",i),i=document.createElement("button"),i.innerText="Min Value",i.addEventListener("click",()=>this.value=Number.MIN_VALUE),m.append(" ",i),i=document.createElement("button"),i.innerText="Epsilon",i.addEventListener("click",()=>this.value=Number.EPSILON),m.append(" ",i),i=document.createElement("button"),i.innerText="Max Safe Integer",i.addEventListener("click",()=>this.value=Number.MAX_SAFE_INTEGER),m.append(" ",i),i=document.createElement("button"),i.innerText="Max Value",i.addEventListener("click",()=>this.value=Number.MAX_VALUE),m.append(" ",i),i=document.createElement("button"),i.innerText="Infinity",i.addEventListener("click",()=>this.value=1/0),m.append(" ",i)}this.#t.appendChild(l),this.#t.appendChild(p),this.#t.appendChild(c),this.#t.appendChild(this.#e),this.#t.appendChild(h),this.#t.appendChild(m),this.#t.classList.add("top"),this.#f()}#f(){for(const[p,c]of w.zip(this.bits,this.#u))c.innerText=p;if(this.#l.innerText=this.value.toString(),this.exponentBits.length!=11)throw new Error("wtf");const l=this.exponent;this.#h.innerText=l.toLocaleString();{const p=this.bits.substring(12);if(p.length!=52)throw new Error("wtf");this.#e.innerText="";const c=1023,d=1075;if(l==T.EXPONENT_COUNT-1)this.#e.innerText="Infinity or NaN";else if(this.#e.appendChild(this.#m).innerText=this.bits[0]=="0"?"+":"-",l==0){const E="0"+p;this.#s.innerText="0",b(this.#e,'<span data-digit="x">0</span>'),this.#e.appendChild(this.#r),b(this.#e,'<span data-digit="x">0…0</span>'),this.#i.forEach((h,m)=>{const i=E[m];this.#e.appendChild(h).innerText=i,h.style.fontWeight=""})}else{const E="1"+p;if(this.#s.innerText="1",l>d){const h=l-d;this.#i.forEach((i,n)=>{const u=E[n];this.#e.appendChild(i).innerText=u,i.style.fontWeight=""});const m=h>3?"0…0":"0".repeat(h);b(this.#e,`<span data-digit="x">${m}</span>`),this.#e.appendChild(this.#r)}else if(l>=c){const h=l-c;let m=NaN;this.#i.forEach((i,n)=>{const u=E[n];this.#e.appendChild(i).innerText=u,u=="1"&&(m=n),n==h&&(this.#e.appendChild(this.#r),m=n)}),w.assertFinite(m),this.#i.forEach((i,n)=>{const g=n>m?"100":"";i.style.fontWeight=g})}else{const h=c-l;b(this.#e,'<span data-digit="x">0</span>'),this.#e.appendChild(this.#r);const m=h>3?"0…0":"0".repeat(h-1);b(this.#e,`<span data-digit="x">${m}</span>`);let i=NaN;this.#i.forEach((n,u)=>{const g=E[u];this.#e.appendChild(n).innerText=g,g=="1"&&(i=u),n.style.fontWeight=""}),w.assertFinite(i),this.#i.forEach((n,u)=>{const N=u>i?"100":"";n.style.fontWeight=N})}}}}get value(){return this.#o}set value(a){this.#o=a,this.#a=T.toBinary(a),this.#f()}get bits(){return this.#a}set bits(a){const l=T.fromBinary(a);if(l===void 0)throw new Error("invalid");this.value=l,a!=this.bits&&console.info(a,this.bits)}get top(){return this.#t}}window.DoubleViewer=T;const ee=new T(7);V.getById("main",HTMLHeadingElement).insertAdjacentElement("afterend",ee.top);
